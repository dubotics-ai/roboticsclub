import CodeTab from "../../components/codehighlight";

# Rota `/categories/{id}`

A rota `/categories/{id}` é um endpoint essencial da API Quero Assistir, que permite aos usuários acessar informações detalhadas sobre uma categoria específica de transmissões ao vivo. O `{id}` na URL corresponde ao ID exclusivo associado a cada categoria, conforme fornecido na rota [/tv/categories](/tv/categories).

# Objeto da resposta e Erros
## Resposta

Retorna um array em json, contendo objetos com as seguintes chaves:

`id`: identificador interno do canal. <br />
`original_name`: nome do canal com a qualidade mais alta ao final.<br /> 
`name`: nome do canal. <br />
`category`: a categoria referente ao canal. <br />
`type`: o tipo, sendo "channel" para um canal e "serie" para conteúdo ao vivo. <br />
`url`: a url para o hls do canal, apenas jogar no seu player e curtir!. <br />
`icon`: um icone do canal ou conteúdo(imagem). <br />

## Erros
### 400
```json 
{
  "message": "error",
  "error": "Unknow reference for that category.",
  "id": "unknow-reference"
}
```
> Significa que a categoria requisitada não existe no sistema.

## Exemplo de Requisição

<CodeTab cid="request-categories-id" codeSamples={{
  javascript: `const axios = require('axios');

const apiUrl = 'https://api.queroassistir.com/tv/categories/1';

axios.get(apiUrl)
  .then(response => {
    console.log(response.data);
  })
  .catch(error => {
    console.error('Erro na requisição:', error);
  });`,
  python: `import requests

category_id = 1  # Substitua pelo ID da categoria desejada
api_url = f'https://api.queroassistir.com/tv/categories/{category_id}'

response = requests.get(api_url)

if response.status_code == 200:
    data = response.json()
    print(data)
else:
    print('Erro na requisição:', response.status_code)`,
  php: `<?php
$categoryId = 1; // Substitua pelo ID da categoria desejada
$apiUrl = "https://api.queroassistir.com/tv/categories/{$categoryId}";

$response = file_get_contents($apiUrl);

if ($response !== false) {
    $data = json_decode($response, true);
    print_r($data);
} else {
    echo 'Erro na requisição';
}
?>`,
  ruby: `require 'net/http'
require 'json'

category_id = 1  # Substitua pelo ID da categoria desejada
api_url = URI("https://api.queroassistir.com/tv/categories/#{category_id}")

response = Net::HTTP.get(api_url)

if response.code.to_i == 200
  data = JSON.parse(response.body)
  puts data
else
  puts 'Erro na requisição:', response.code
end`,
  rust: `extern crate reqwest;

fn main() -> Result<(), reqwest::Error> {
    let category_id = 1; // Substitua pelo ID da categoria desejada
    let api_url = format!("https://api.queroassistir.com/tv/categories/{}", category_id);

    let response = reqwest::blocking::get(&api_url)?;

    if response.status().is_success() {
        let data: serde_json::Value = response.json()?;
        println!("{:?}", data);
    } else {
        eprintln!("Erro na requisição: {}", response.status());
    }

    Ok(())
}`
}} />

## Exemplo de Resposta

A resposta da rota `/tv/categories/{id}` é um JSON com um array contendo os itens. Aqui está um exemplo desse JSON:

<details>
  <summary>Ver exemplo de resposta</summary>
  ```json copy
[
  {
    "id": 71764,
    "original_name": "AgroMais FHD",
    "name": "AgroMais",
    "category": 0,
    "type": "channel",
    "url": "https://api.queroassistir.com/api/v1/proxy/channel/71764.m3u8",
    "icon": "https://api.queroassistir.com/images/71764.jpg"
  },
  {
    "id": 164021,
    "original_name": "Band CE FHD",
    "name": "Band CE",
    "category": 0,
    "type": "channel",
    "url": "https://api.queroassistir.com/api/v1/proxy/channel/164021.m3u8",
    "icon": "https://api.queroassistir.com/images/164021.jpg"
  },
  {
    "id": 79311,
    "original_name": "Band SP FHD",
    "name": "Band SP",
    "category": 0,
    "type": "channel",
    "url": "https://api.queroassistir.com/api/v1/proxy/channel/79311.m3u8",
    "icon": "https://api.queroassistir.com/images/79311.jpg"
  },
  {
    "id": 71820,
    "original_name": "Canal do Boi FHD",
    "name": "Canal do Boi",
    "category": 0,
    "type": "channel",
    "url": "https://api.queroassistir.com/api/v1/proxy/channel/71820.m3u8",
    "icon": "https://api.queroassistir.com/images/71820.jpg"
  }
]
  ```
</details>